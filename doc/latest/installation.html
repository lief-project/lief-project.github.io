<!doctype html><html data-content_root=./ lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="width=device-width,initial-scale=1" name=viewport><meta content="width=device-width,initial-scale=1" name=viewport><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="Copy to clipboard" name=lang:clipboard.copy><meta content="Copied to clipboard" name=lang:clipboard.copied><meta content=en name=lang:search.language><meta content=True name=lang:search.pipeline.stopwords><meta content=True name=lang:search.pipeline.trimmer><meta content="No matching documents" name=lang:search.result.none><meta content="1 matching document" name=lang:search.result.one><meta content="# matching documents" name=lang:search.result.other><meta content=[\s\-]+ name=lang:search.tokenizer><meta content="LIEF Documentation" name=Description><link crossorigin href=https://fonts.gstatic.com/ rel=preconnect><script src=_static/javascripts/vendor.min.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css rel=stylesheet><link href=_static/favicon.ico rel=apple-touch-icon><title>Installation and Integration — LIEF Documentation</title><link href=_static/fonts/material-icons.css rel=stylesheet><link href=_static/stylesheets/vendor.min.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/img-comparison-slider@8/dist/index.js></script><link href=https://cdn.jsdelivr.net/npm/img-comparison-slider@8/dist/styles.css rel=stylesheet><link href="_static/pygments.css?v=d8a2add5" rel=stylesheet><link href="_static/basic.css?v=29da98fa" rel=stylesheet><link href="_static/graphviz.css?v=4ae1632d" rel=stylesheet><link href="_static/css/custom.css?v=968db012" rel=stylesheet><script src="_static/documentation_options.js?v=8d563738"></script><script src="_static/doctools.js?v=fd6eb6e6"></script><script src="_static/sphinx_highlight.js?v=6ffebe34"></script><link href=_static/favicon.ico rel=icon><link href=genindex.html rel=index title=Index><link href=search.html rel=search title=Search><link href=compilation.html rel=next title=Compilation><link href=intro.html rel=prev title=Introduction><link href=_static/stylesheets/theme.css rel=stylesheet><body data-md-color-accent=cyan data-md-color-primary=blue dir=ltr><nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom fixed-top" role=navigation><a class=navbar-brand href=index.html>LIEF Documentation</a><button class=navbar-toggler data-target=#navbar-collapse data-toggle=collapse><span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-center mt-2 mt-lg-0" id=navbar-collapse><ul class="navbar-nav position-relative px-lg-6 px-xl-8"><li class=nav-item><a class=nav-link href=https://lief.re> <i class="fa-solid fa-house mr-3"></i>Home </a><li class=nav-item><a class=nav-link href=https://lief.re/blog> <i class="fa-solid fa-rss mr-3"></i>Blog </a><li class=nav-item><a class=nav-link href=https://lief.re/download> <i class="fa-solid fa-download mr-3"></i>Download </a><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" aria-expanded=false data-toggle=dropdown href=# role=button> <i class="fa-solid fa-book mr-3"></i>Documentation </a> <div class=dropdown-menu role=menu><a class=dropdown-item href=https://lief.re/doc/latest/doxygen>Doxygen</a></div><li class=nav-item><a class=nav-link href=https://lief.re/about> <i class="fa-solid fa-bars-staggered mr-3"></i>About </a><li class="nav-item ml-lg-3 mt-3 mt-lg-0"><a class="hover-lift-light mt-1" href=https://discord.gg/jGQtyAYChJ target=_blank> <i class="fab fa-2x fa-discord text-darkblue mr-3"></i> </a><li class=nav-item><a class="btn btn-outline-pink" href=https://github.com/sponsors/lief-project target=_blank> <i class="fa-solid fa-heart mr-3"></i> Sponsor </a></ul></div></nav><div class="container-fluid container-docs"><div class=row><div class="col-12 col-lg-3 col-xl-2 border-lg-right py-lg-5 pl-lg-4 docs-sidebar docs-sidebar-left"><div class="collapse d-lg-block mb-6 mb-lg-0" id=sidebar-collapse><form action=search.html method=GET name=search><input autocapitalize=off autocomplete=off class=form-control data-md-component=query data-md-state=active name=q placeholder=Search spellcheck=false></form><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=intro.html><em class="fa fa-solid fa-door-open"></em> Introduction</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=#><em class="fa fa-solid fa-gears"></em> Installation and Integration</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=compilation.html><em class="fa fa-solid fa-laptop-code"></em> Compilation</a></ul><div class="text-darkblue text-uppercase font-size-normal font-weight-bolder mt-4 pt-2 mb-2"><span class=caption-text><i class="fa-solid fa-sitemap"> </i>Formats</span></div><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=formats/elf/index.html><em class="fa fa-brands fa-linux"></em> ELF</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=formats/macho/index.html><em class="fa fa-brands fa-apple"></em> Mach-O</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=formats/pe/index.html><em class="fa fa-brands fa-windows"></em> PE</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=formats/coff/index.html><em class="fa fa-brands fa-windows"></em> COFF</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=formats/android/index.html><em class="fa fa-brands fa-android"></em> Android</a></ul><div class="text-darkblue text-uppercase font-size-normal font-weight-bolder mt-4 pt-2 mb-2"><span class=caption-text><i class="fa-solid fa-code"> </i>API</span></div><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=api/binary_abstraction/index.html><em class="fa fa-brands fa-uncharted"></em> Binary Abstraction</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=api/utilities/index.html><em class="fa fa-solid fa-hand-holding-hand"></em> Utilities</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=api/error_handling/index.html><em class="fa fa-solid fa-triangle-exclamation"></em> Error Handling</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=api/logging/index.html><em class="fa fa-regular fa-rectangle-list"></em> Logging</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=api/cpp/index.html><em class="fa fa-regular fa-file-code"></em> C++</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=api/rust/index.html><em class="fa fa-brands fa-rust"></em> Rust</a></ul><div class="text-darkblue text-uppercase font-size-normal font-weight-bolder mt-4 pt-2 mb-2"><span class=caption-text><i class="fa-solid fa-hat-wizard"> </i>LIEF Extended</span></div><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=extended/intro.html><em class="fa fa-cubes"></em> What is LIEF Extended?</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=extended/debug_info/index.html><em class="fa fa-solid fa-magnifying-glass"></em> Debug Info</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=extended/dwarf/index.html><em class="fa fa-solid fa-bars-staggered"></em> DWARF</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=extended/pdb/index.html><em class="fa fa-brands fa-windows"></em> PDB</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=extended/objc/index.html><em class="fa fa-brands fa-apple"></em> Objective-C</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=extended/dsc/index.html><em class="fa fa-solid fa-diagram-predecessor"></em> Dyld Shared Cache</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=extended/disassembler/index.html><em class="fa fa-solid fa-dna"></em> Disassembler</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=extended/assembler/index.html><em class="fa fa-solid fa-user-secret"></em> Assembler</a></ul><div class="text-darkblue text-uppercase font-size-normal font-weight-bolder mt-4 pt-2 mb-2"><span class=caption-text><i class="fa-solid fa-puzzle-piece"> </i>Plugins</span></div><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=plugins/ghidra/index.html><em class="fa fa-solid fa-dragon"></em> Ghidra</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=plugins/binaryninja/index.html><em class="fa fa-solid fa-user-ninja"></em> BinaryNinja</a></ul><div class="text-darkblue text-uppercase font-size-normal font-weight-bolder mt-4 pt-2 mb-2"><span class=caption-text><i class="fa-solid fa-toolbox"> </i>Tools</span></div><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tools/lief-patchelf/index.html><em class="fa fa-solid fa-screwdriver-wrench"></em> lief-patchelf</a></ul><div class="text-darkblue text-uppercase font-size-normal font-weight-bolder mt-4 pt-2 mb-2"><span class=caption-text><i class="fa-solid fa-layer-group"> </i>Tutorials</span></div><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/01_play_with_formats.html>01 - Parse and manipulate formats</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/02_pe_from_scratch.html>02 - Create a PE from scratch (Deprecated)</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/03_elf_change_symbols.html>03 - Play with ELF symbols</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/04_elf_hooking.html>04 - ELF Hooking</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/05_elf_infect_plt_got.html>05 - Infecting the plt/got</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/06_pe_hooking.html>06 - PE Hooking (Deprecated)</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/07_pe_resource.html>07 - PE Resources</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/08_elf_bin2lib.html>08 - Transforming an ELF executable into a library</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/09_frida_lief.html>09 - How to use frida on a non-rooted device</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/10_android_formats.html>10 - Android formats</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/11_macho_modification.html>11 - Mach-O Modification</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/12_elf_coredump.html>12 - ELF Coredump</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=tutorials/13_pe_authenticode.html>13 - PE Authenticode</a></ul><div class="text-darkblue text-uppercase font-size-normal font-weight-bolder mt-4 pt-2 mb-2"><span class=caption-text><i class="fa-brands fa-space-awesome"> </i>Extra Information</span></div><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=references.html><em class="fa fa-fa-solid fa-book-bookmark"></em> References</a></ul><ul class="list-unstyled mt-3"><li><a class="text-darkblue font-size-sm d-block mb-2" href=changelog.html><em class="fa fa-solid fa-code-compare"></em> Changelog</a></ul></div><hr><span class="svg-icon text-purple mr-1 relative-top--1"> <svg viewbox="0 0 512 512" height=512 width=512 xmlns=http://www.w3.org/2000/svg><title>ionicons-v5-d</title><circle cx=160 cy=96 r=48 style=fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px></circle><circle cx=160 cy=416 r=48 style=fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px></circle><line style=fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px x1=160 x2=160 y1=368 y2=144></line><circle cx=352 cy=160 r=48 style=fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px></circle><path d=M352,208c0,128-192,48-192,160 style=fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px></path></svg> </span><a class=text-darkblue href=https://github.com/lief-project/LIEF/commits/b4e355f5>1.0.0 (b4e355f5)</a><br> Updated on 22/02/2026, 07:34:46.</div><div class="col-12 col-lg-9 col-xl-8 offset-lg-3 offset-xl-2 py-lg-5 px-lg-6 mb-8"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a aria-label=Home href=index.html><i class="fa-solid fa-home"></i></a><li class="breadcrumb-item active" aria-current=page><a href=#><em class="fa fa-solid fa-gears"></em> Installation and Integration</a></ol></nav><section id=installation-and-integration><h1 id=installation--page-root><em class="fa fa-solid fa-gears"></em> Installation and Integration<a title="Link to this heading" class=headerlink href=#installation--page-root>¶</a></h1><section id=sdk><h2 id=sdk><em class="fa fa-regular fa-file-code"></em> SDK<a title="Link to this heading" class=headerlink href=#sdk>¶</a></h2><p>For each platform supported by LIEF, SDK packages contain:<ul class=simple><li><p>static and shared libraries<li><p>headers<li><p>compiled examples</ul><p>Nightly build can be downloaded on: <a class="reference external" href=https://lief.s3-website.fr-par.scw.cloud/latest/sdk>https://lief.s3-website.fr-par.scw.cloud/latest/sdk</a> while releases are available on Github release page: <a class="reference external" href=https://github.com/lief-project/LIEF/releases>https://github.com/lief-project/LIEF/releases</a>.</section><section id=python><h2 id=python><em class="fa fa-brands fa-python"></em> Python<a title="Link to this heading" class=headerlink href=#python>¶</a></h2><p>Nightly Python wheels are uploaded for <strong>each commit</strong> on the main branch in a S3 bucket. They can be installed through:<div class="highlight-console notranslate"><div class=highlight><pre><span></span><span class=gp>$ </span>pip<span class=w> </span>install<span class=w> </span><span class=o>[</span>--user<span class=o>]</span><span class=w> </span>--index-url<span class=w> </span>https://lief.s3-website.fr-par.scw.cloud/latest<span class=w> </span>lief
</pre></div></div><p>For tagged releases, the wheels are uploaded on PyPI and can by installed through:<div class="highlight-console notranslate"><div class=highlight><pre><span></span><span class=gp>$ </span>pip<span class=w> </span>install<span class=w> </span>lief
</pre></div></div><p>One can also compile and install from source as follows<div class="highlight-console notranslate"><div class=highlight><pre><span></span><span class=gp>$ </span>git<span class=w> </span>clone<span class=w> </span>https://github.com/lief-project/LIEF
<span class=gp>$ </span>pip<span class=w> </span>install<span class=w> </span>LIEF/api/python
<span class=gp># </span>Or<span class=w> </span>pip+git:
<span class=gp>$ </span>pip<span class=w> </span>install<span class=w> </span>git+https://github.com/lief-project/LIEF.git#subdirectory<span class=o>=</span>api/python
</pre></div></div><p>For more details about the compilation options, see the <a class="reference internal" href=compilation.html#compilation-ref><span class="std std-ref"> Compilation</span></a> section.</section><section id=rust><h2 id=rust><em class="fa fa-brands fa-rust"></em> Rust<a title="Link to this heading" class=headerlink href=#rust>¶</a></h2><p>One can add LIEF as a dependency of a Rust project as follows:<div class="highlight-toml notranslate"><div class=highlight><pre><span></span><span class=c1># For nightly build</span>
<span class=k>[dependencies]</span>
<span class=n>lief</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>git</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s2>"https://github.com/lief-project/LIEF"</span><span class=p>,</span><span class=w> </span><span class=n>branch</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s2>"main"</span><span class=w> </span><span class=p>}</span>

<span class=c1># For a tagged release</span>
<span class=k>[dependencies]</span>
<span class=n>lief</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>"0.17.4"</span>
</pre></div></div><p>You can find more details in the <a class="reference internal" href=api/rust/index.html#lief-rust-bindings><span class="std std-ref">Rust API section</span></a></section><section id=cmake-integration><h2 id=cmake-integration>CMake Integration<a title="Link to this heading" class=headerlink href=#cmake-integration>¶</a></h2><p>There are a few ways to integrate LIEF as a dependency in another project. The different methods are listed in order of preference and CMake best practice. These listings are only to show basic examples. Please refer to the CMake documentation for questions related to more complex project setup.<section id=find-package><h3 id=find-package>find_package()<a title="Link to this heading" class=headerlink href=#find-package>¶</a></h3><p>Using <a class="reference external" href=https://cmake.org/cmake/help/v3.0/command/find_package.html>CMake find_package()</a>:<div class="highlight-cmake notranslate"><div class=highlight><pre><span></span><span class=c># Use LIEF with 'find_package()'</span>
<span class=c># ==============================</span>

<span class=c># Find LIEF. If LIEF was not installed into a default system directory then</span>
<span class=c># specify the following option during CMake configuration:</span>
<span class=c># -DLIEF_DIR=&lt;LIEF install prefix>/share/LIEF/cmake</span>
<span class=nb>find_package</span><span class=p>(</span><span class=s>LIEF</span><span class=w> </span><span class=s>REQUIRED</span><span class=w> </span><span class=s>COMPONENTS</span><span class=w> </span><span class=s>STATIC</span><span class=p>)</span><span class=w> </span><span class=c># COMPONENTS: &lt;SHARED | STATIC> - Default: STATIC</span>
</pre></div></div><p>And now, to be integrated within a project:<div class="highlight-cmake notranslate"><div class=highlight><pre><span></span><span class=c># Add our executable</span>
<span class=c># ==================</span>
<span class=nb>add_executable</span><span class=p>(</span><span class=s>HelloLIEF</span><span class=w> </span><span class=s>main.cpp</span><span class=p>)</span>

<span class=c># Enable C++11</span>
<span class=nb>set_property</span><span class=p>(</span><span class=s>TARGET</span><span class=w> </span><span class=s>HelloLIEF</span>
<span class=w>             </span><span class=s>PROPERTY</span><span class=w> </span><span class=s>CXX_STANDARD</span><span class=w>           </span><span class=s>11</span>
<span class=w>             </span><span class=s>PROPERTY</span><span class=w> </span><span class=s>CXX_STANDARD_REQUIRED</span><span class=w>  </span><span class=s>ON</span><span class=p>)</span>

<span class=c># Link the executable with LIEF</span>
<span class=nb>target_link_libraries</span><span class=p>(</span><span class=s>HelloLIEF</span><span class=w> </span><span class=s>PRIVATE</span><span class=w> </span><span class=s>LIEF::LIEF</span><span class=p>)</span>
</pre></div></div><p>For the compilation:<div class="highlight-console notranslate"><div class=highlight><pre><span></span><span class=gp>$ </span>mkdir<span class=w> </span>build
<span class=gp>$ </span><span class=nb>cd</span><span class=w> </span>build
<span class=gp>$ </span>cmake<span class=w> </span>-DLIEF_DIR<span class=o>=</span>&lt;PATH_TO_LIEF_INSTALL_DIR>/lib/cmake/LIEF/<span class=w> </span>..
<span class=gp>$ </span>make
<span class=gp>$ </span>HelloLIEF<span class=w> </span>/bin/ls<span class=w> </span><span class=c1># or explorer.exe or whatever</span>
</pre></div></div><p>A <em>full</em> example is available in the <code class="docutils literal notranslate"><span class=pre>examples/cmake/find_package</span></code> directory.</section><section id=add-subdirectory-or-fetchcontent><h3 id=add-subdirectory-or-fetchcontent>add_subdirectory() or FetchContent<a title="Link to this heading" class=headerlink href=#add-subdirectory-or-fetchcontent>¶</a></h3><p>First, set up the options you want to set as default for the LIEF project:<div class="highlight-cmake notranslate"><div class=highlight><pre><span></span><span class=c># LIEF build config. Set the default options for LIEF's project setup</span>
<span class=nb>option</span><span class=p>(</span><span class=s>LIEF_DOC</span><span class=w> </span><span class=s2>"Build LIEF docs"</span><span class=w> </span><span class=s>OFF</span><span class=p>)</span>
<span class=nb>option</span><span class=p>(</span><span class=s>LIEF_PYTHON_API</span><span class=w> </span><span class=s2>"Build LIEF Python API"</span><span class=w> </span><span class=s>OFF</span><span class=p>)</span>
<span class=nb>option</span><span class=p>(</span><span class=s>LIEF_EXAMPLES</span><span class=w> </span><span class=s2>"Build LIEF examples"</span><span class=w> </span><span class=s>OFF</span><span class=p>)</span>
<span class=nb>option</span><span class=p>(</span><span class=s>LIEF_TESTS</span><span class=w> </span><span class=s2>"Build LIEF tests"</span><span class=w> </span><span class=s>OFF</span><span class=p>)</span>

<span class=nb>if</span><span class=p>(</span><span class=s>MSVC</span><span class=p>)</span>
<span class=w>  </span><span class=nb>set</span><span class=p>(</span><span class=s>CMAKE_MSVC_RUNTIME_LIBRARY</span><span class=w> </span><span class=s2>"MultiThreaded"</span><span class=w> </span><span class=s>CACHE</span><span class=w> </span><span class=s>STRING</span><span class=w> </span><span class=s2>"CRT option"</span><span class=p>)</span>
<span class=nb>endif</span><span class=p>()</span>


<span class=c># If you have LIEF as a submodule in a directory, then you can add it to this</span>
</pre></div></div><p>Using <a class="reference external" href=https://cmake.org/cmake/help/v3.0/command/add_subdirectory.html>CMake add_subdirectory()</a> to add a submodule LIEF source directory:<div class="highlight-cmake notranslate"><div class=highlight><pre><span></span><span class=c># NOTE: This submodule does not exist for this example, but it does the same</span>
<span class=c># thing as FetchContent without the download part</span>
<span class=nb>set</span><span class=p>(</span><span class=s>vendorLIEF_submodule_dir</span><span class=w> </span><span class=s2>"${CMAKE_CURRENT_LIST_DIR}/LIEF"</span><span class=p>)</span>
<span class=nb>if</span><span class=p>(</span><span class=s>EXISTS</span><span class=w> </span><span class=s2>"${vendorLIEF_submodule_dir}"</span><span class=p>)</span>
<span class=w>  </span><span class=nb>add_subdirectory</span><span class=p>(</span><span class=s2>"${vendorLIEF_submodule_dir}"</span><span class=p>)</span>

<span class=c># Else, we'll specify how to obtain LIEF another way (downloading)</span>
<span class=nb>else</span><span class=p>()</span>
</pre></div></div><p>If we are using a CMake version greater than or equal to 3.11, we can use <a class="reference external" href=https://cmake.org/cmake/help/v3.11/module/FetchContent.html>CMake FetchContent module</a> to download or specify a LIEF source directory outside of the current directory:<div class="highlight-cmake notranslate"><div class=highlight><pre><span></span><span class=w>  </span><span class=c># URL of the LIEF repo (Can be your fork)</span>
<span class=w>  </span><span class=nb>set</span><span class=p>(</span><span class=s>LIEF_GIT_URL</span><span class=w> </span><span class=s2>"https://github.com/lief-project/LIEF.git"</span><span class=p>)</span>

<span class=w>  </span><span class=c># LIEF's version to be used (can be 'main')</span>
<span class=w>  </span><span class=nb>set</span><span class=p>(</span><span class=s>LIEF_VERSION</span><span class=w> </span><span class=s>0.13.0</span><span class=p>)</span>

<span class=w>  </span><span class=nb>include</span><span class=p>(</span><span class=s>FetchContent</span><span class=p>)</span>
<span class=w>  </span><span class=nb>FetchContent_Declare</span><span class=p>(</span><span class=s>LIEF</span>
<span class=w>    </span><span class=s>GIT_REPOSITORY</span><span class=w>  </span><span class=s2>"${LIEF_GIT_URL}"</span>
<span class=w>    </span><span class=s>GIT_TAG</span><span class=w>         </span><span class=o>${</span><span class=nv>LIEF_VERSION</span><span class=o>}</span>
<span class=w>    </span><span class=c># You may specify an existing LIEF source directory if you don't want to</span>
<span class=w>    </span><span class=c># download. Just comment out the above ``GIT_*`` commands and uncoment the</span>
<span class=w>    </span><span class=c># following ``SOURCE_DIR`` line</span>
<span class=w>    </span><span class=c>#SOURCE_DIR      "${CMAKE_CURRENT_LIST_DIR}/../../.."</span>
<span class=w>    </span><span class=p>)</span>

<span class=w>  </span><span class=nb>if</span><span class=p>(</span><span class=o>${</span><span class=nv>CMAKE_VERSION</span><span class=o>}</span><span class=w> </span><span class=s>VERSION_LESS</span><span class=w> </span><span class=s2>"3.14.0"</span><span class=p>)</span>
<span class=w>    </span><span class=c># CMake 3.11 to 3.13 needs more verbose method to make LIEF available</span>
<span class=w>    </span><span class=nb>FetchContent_GetProperties</span><span class=p>(</span><span class=s>LIEF</span><span class=p>)</span>
<span class=w>    </span><span class=nb>if</span><span class=p>(</span><span class=s>NOT</span><span class=w> </span><span class=s>LIEF_POPULATED</span><span class=p>)</span>
<span class=w>      </span><span class=nb>FetchContent_Populate</span><span class=p>(</span><span class=s>LIEF</span><span class=p>)</span>
<span class=w>      </span><span class=nb>add_subdirectory</span><span class=p>(</span><span class=o>${</span><span class=nv>LIEF_SOURCE_DIR</span><span class=o>}</span><span class=w> </span><span class=o>${</span><span class=nv>LIEF_BINARY_DIR</span><span class=o>}</span><span class=p>)</span>
<span class=w>    </span><span class=nb>endif</span><span class=p>()</span>
<span class=w>  </span><span class=nb>else</span><span class=p>()</span>
<span class=w>    </span><span class=c># CMake 3.14+ has single function to make LIEF available (recommended)</span>
<span class=w>    </span><span class=nb>FetchContent_MakeAvailable</span><span class=p>(</span><span class=s>LIEF</span><span class=p>)</span>
<span class=w>  </span><span class=nb>endif</span><span class=p>()</span>
<span class=nb>endif</span><span class=p>()</span>
</pre></div></div><p>And now, to be integrated within a project:<div class="highlight-cmake notranslate"><div class=highlight><pre><span></span><span class=nb>add_executable</span><span class=p>(</span><span class=s>HelloLIEF</span><span class=w> </span><span class=s>main.cpp</span><span class=p>)</span>

<span class=c># Enable C++11</span>
<span class=nb>set_property</span><span class=p>(</span><span class=s>TARGET</span><span class=w> </span><span class=s>HelloLIEF</span>
<span class=w>             </span><span class=s>PROPERTY</span><span class=w> </span><span class=s>CXX_STANDARD</span><span class=w>           </span><span class=s>11</span>
<span class=w>             </span><span class=s>PROPERTY</span><span class=w> </span><span class=s>CXX_STANDARD_REQUIRED</span><span class=w>  </span><span class=s>ON</span><span class=p>)</span>

<span class=c># Link the executable with LIEF</span>
<span class=nb>target_link_libraries</span><span class=p>(</span><span class=s>HelloLIEF</span><span class=w> </span><span class=s>PUBLIC</span><span class=w> </span><span class=s>LIEF::LIEF</span><span class=p>)</span>
</pre></div></div><p>For the compilation:<div class="highlight-console notranslate"><div class=highlight><pre><span></span><span class=gp>$ </span>mkdir<span class=w> </span>build
<span class=gp>$ </span><span class=nb>cd</span><span class=w> </span>build
<span class=gp>$ </span>cmake<span class=w> </span>..
<span class=gp>$ </span>make
<span class=gp>$ </span>HelloLIEF<span class=w> </span>/bin/ls<span class=w> </span><span class=c1># or explorer.exe or whatever</span>
</pre></div></div><p>A <em>full</em> example is available in the <code class="docutils literal notranslate"><span class=pre>examples/cmake/add_subdirectory</span></code> directory.</section><section id=external-project><h3 id=external-project>External Project<a title="Link to this heading" class=headerlink href=#external-project>¶</a></h3><p>If you don’t want to use LIEF as a submodule or upgrade to CMake 3.11, we can use <a class="reference external" href=https://cmake.org/cmake/help/v3.0/module/ExternalProject.html>CMake External Project</a> to set up a project as a <a class="reference external" href=https://www.kitware.com/cmake-superbuilds-git-submodules>*superbuild*</a>:<div class="highlight-cmake notranslate"><div class=highlight><pre><span></span><span class=nb>cmake_minimum_required</span><span class=p>(</span><span class=s>VERSION</span><span class=w> </span><span class=s>3.21</span><span class=p>)</span>

<span class=nb>project</span><span class=p>(</span><span class=s>CMakeLIEF</span><span class=w> </span><span class=s>LANGUAGES</span><span class=w> </span><span class=s>NONE</span><span class=p>)</span>

<span class=nb>include</span><span class=p>(</span><span class=s>ExternalProject</span><span class=p>)</span>

<span class=c># LIEF integration as an External Project</span>
<span class=c># ===========================</span>
<span class=nb>set</span><span class=p>(</span><span class=s>LIEF_PREFIX</span><span class=w>       </span><span class=s2>"${CMAKE_CURRENT_BINARY_DIR}/LIEF"</span><span class=p>)</span>
<span class=nb>set</span><span class=p>(</span><span class=s>LIEF_INSTALL_DIR</span><span class=w>  </span><span class=s2>"${LIEF_PREFIX}/install"</span><span class=p>)</span>

<span class=c># URL of the LIEF repo (Can be your fork)</span>
<span class=nb>set</span><span class=p>(</span><span class=s>LIEF_GIT_URL</span><span class=w> </span><span class=s2>"https://github.com/lief-project/LIEF.git"</span><span class=p>)</span>

<span class=c># LIEF's version to be used (can be 'main')</span>
<span class=nb>set</span><span class=p>(</span><span class=s>LIEF_VERSION</span><span class=w> </span><span class=s>0.13.0</span><span class=p>)</span>

<span class=c># LIEF compilation config</span>
<span class=nb>set</span><span class=p>(</span><span class=s>LIEF_CMAKE_ARGS</span>
<span class=w>  </span><span class=s>-DCMAKE_INSTALL_PREFIX=&lt;INSTALL_DIR></span>
<span class=w>  </span><span class=s>-DCMAKE_BUILD_TYPE=RelWithDebInfo</span>
<span class=w>  </span><span class=s>-DLIEF_DOC=OFF</span>
<span class=w>  </span><span class=s>-DLIEF_PYTHON_API=OFF</span>
<span class=w>  </span><span class=s>-DLIEF_EXAMPLES=OFF</span>
<span class=w>  </span><span class=s>-DLIEF_TESTS=OFF</span>
<span class=p>)</span>

<span class=nb>if</span><span class=p>(</span><span class=s>MSVC</span><span class=p>)</span>
<span class=w>  </span><span class=nb>list</span><span class=p>(</span><span class=s>APPEND</span><span class=w> </span><span class=o>${</span><span class=nv>LIEF_CMAKE_ARGS</span><span class=o>}</span><span class=w> </span><span class=s>-DCMAKE_MSVC_RUNTIME_LIBRARY=MultiThreaded</span><span class=p>)</span>
<span class=nb>endif</span><span class=p>()</span>

<span class=nb>ExternalProject_Add</span><span class=p>(</span><span class=s>LIEF</span>
<span class=w>  </span><span class=s>PREFIX</span><span class=w>           </span><span class=s2>"${LIEF_PREFIX}"</span>
<span class=w>  </span><span class=s>GIT_REPOSITORY</span><span class=w>   </span><span class=s2>"${LIEF_GIT_URL}"</span>
<span class=w>  </span><span class=s>GIT_TAG</span><span class=w>          </span><span class=o>${</span><span class=nv>LIEF_VERSION</span><span class=o>}</span>
<span class=w>  </span><span class=c># You may specify an existing LIEF source directory if you don't want to</span>
<span class=w>  </span><span class=c># download. Just comment out the above ``GIT_*`` commands and uncoment the</span>
<span class=w>  </span><span class=c># following ``SOURCE_DIR`` line</span>
<span class=w>  </span><span class=c>#SOURCE_DIR       "${CMAKE_CURRENT_LIST_DIR}/../../.."</span>
<span class=w>  </span><span class=s>INSTALL_DIR</span><span class=w>      </span><span class=s2>"${LIEF_INSTALL_DIR}"</span>
<span class=w>  </span><span class=s>CMAKE_ARGS</span><span class=w>       </span><span class=o>${</span><span class=nv>LIEF_CMAKE_ARGS</span><span class=o>}</span>
</pre></div></div><p>And now, to be integrated with our main <code class="docutils literal notranslate"><span class=pre>HelloLIEF</span></code> project that is located in a subdirectory and looks exactly like the <code class="docutils literal notranslate"><span class=pre>find_package()</span></code> example shown earlier:<div class="highlight-cmake notranslate"><div class=highlight><pre><span></span><span class=c># User project</span>
<span class=c># ============</span>
<span class=nb>ExternalProject_Add</span><span class=p>(</span><span class=s>HelloLIEF</span>
<span class=w>  </span><span class=s>DEPENDS</span><span class=w>         </span><span class=s>LIEF</span>
<span class=w>  </span><span class=s>SOURCE_DIR</span><span class=w>      </span><span class=s2>"${CMAKE_CURRENT_LIST_DIR}/HelloLIEF"</span>
<span class=w>  </span><span class=s>BINARY_DIR</span><span class=w>      </span><span class=s2>"${CMAKE_CURRENT_BUILD_DIR}"</span>
<span class=w>  </span><span class=s>INSTALL_COMMAND</span><span class=w> </span><span class=s2>""</span>
<span class=w>  </span><span class=s>CMAKE_ARGS</span>
<span class=w>    </span><span class=s2>"-DLIEF_DIR=${LIEF_INSTALL_DIR}/lib/cmake/LIEF"</span>
<span class=w>    </span><span class=s>-DCMAKE_BUILD_TYPE=RelWithDebInfo</span>
<span class=p>)</span>
</pre></div></div><p>For the compilation:<div class="highlight-console notranslate"><div class=highlight><pre><span></span><span class=gp>$ </span>mkdir<span class=w> </span>build
<span class=gp>$ </span><span class=nb>cd</span><span class=w> </span>build
<span class=gp>$ </span>cmake<span class=w> </span>..
<span class=gp>$ </span>make
<span class=gp>$ </span>HelloLIEF<span class=w> </span>/bin/ls<span class=w> </span><span class=c1># or explorer.exe or what ever</span>
</pre></div></div><p>A <em>full</em> example is available in the <code class="docutils literal notranslate"><span class=pre>examples/cmake/external_project</span></code> directory.</section></section><section id=visual-studio-integration><h2 id=visual-studio-integration>Visual Studio Integration<a title="Link to this heading" class=headerlink href=#visual-studio-integration>¶</a></h2><p>Given a pre-compiled version of LIEF SDK (e.g. <code class="docutils literal notranslate"><span class=pre>LIEF-0.14.1-win64.zip</span></code>):<div class="highlight-text notranslate"><div class=highlight><pre><span></span>.
├── bin
│   ├── pe_reader.exe
│   └── vdex_reader.exe
├── include
│   └── LIEF
├── lib
│   ├── LIEF.dll
│   ├── LIEF.lib
│   └── pkgconfig
└── share
    └── LIEF
</pre></div></div><p>One should add the <code class="docutils literal notranslate"><span class=pre>include/</span></code> directory in the compiler search path: <code class="docutils literal notranslate"><span class=pre>Configuration</span> <span class=pre>Properties</span> <span class=pre>></span> <span class=pre>C/C++</span> <span class=pre>></span> <span class=pre>General</span> <span class=pre>></span> <span class=pre>Additional</span> <span class=pre>Include</span> <span class=pre>Directories</span></code> and add either <code class="docutils literal notranslate"><span class=pre>LIEF.lib</span></code> or <code class="docutils literal notranslate"><span class=pre>LIEF.dll</span></code> in the link step:<p><code class="docutils literal notranslate"><span class=pre>Configuration</span> <span class=pre>Properties</span> <span class=pre>></span> <span class=pre>Linker</span> <span class=pre>></span> <span class=pre>Input</span> <span class=pre>></span> <span class=pre>Additional</span> <span class=pre>Dependencies</span></code><div class="admonition warning"><p class=admonition-title>Warning<p><code class="docutils literal notranslate"><span class=pre>LIEF.dll</span></code> is compiled with the <code class="docutils literal notranslate"><span class=pre>/MD</span></code> flag (<code class="docutils literal notranslate"><span class=pre>MultiThreadedDLL</span></code>) while <code class="docutils literal notranslate"><span class=pre>LIEF.lib</span></code> is compiled with the <code class="docutils literal notranslate"><span class=pre>/MT</span></code> flag (<code class="docutils literal notranslate"><span class=pre>MultiThreaded</span></code>).<p>If this configuration is not suitable for your project, you can compile LIEF with your required runtime.</div></section><section id=xcode-integration><h2 id=xcode-integration>XCode Integration<a title="Link to this heading" class=headerlink href=#xcode-integration>¶</a></h2><p>Similarly to Visual Studio, one should configure the XCode project to include the <code class="docutils literal notranslate"><span class=pre>include/</span></code> directory of LIEF and the <cite>lib/</cite> directory:<ul class=simple><li><p><code class="docutils literal notranslate"><span class=pre>include/</span></code>: <code class="docutils literal notranslate"><span class=pre>Build</span> <span class=pre>Settings</span> <span class=pre>></span> <span class=pre>Search</span> <span class=pre>Paths</span> <span class=pre>></span> <span class=pre>Header</span> <span class=pre>Search</span> <span class=pre>Paths</span></code><li><p><code class="docutils literal notranslate"><span class=pre>lib/</span></code>: <code class="docutils literal notranslate"><span class=pre>Build</span> <span class=pre>Settings</span> <span class=pre>></span> <span class=pre>Search</span> <span class=pre>Paths</span> <span class=pre>></span> <span class=pre>Library</span> <span class=pre>Search</span> <span class=pre>Paths</span></code></ul><p>Then, we can add <code class="docutils literal notranslate"><span class=pre>libLIEF.lib</span></code> or <code class="docutils literal notranslate"><span class=pre>libLIEF.dylib</span></code> in the list of the libraries to link with:<p><code class="docutils literal notranslate"><span class=pre>Build</span> <span class=pre>Phases</span> <span class=pre>></span> <span class=pre>Link</span> <span class=pre>Binary</span> <span class=pre>With</span> <span class=pre>Libraries</span></code></section></section></div><div class="col-xl-2 d-none d-xl-block px-0 py-5 docs-sidebar docs-sidebar-right"><aside class="border-left pl-5 py-3"><span class="text-uppercase text-muted font-size-sm d-block mb-3"> On this page: </span><a class="d-block my-2" data-toggle=scroll href=#sdk><em class="fa fa-regular fa-file-code"></em> SDK</a><a class="d-block my-2" data-toggle=scroll href=#python><em class="fa fa-brands fa-python"></em> Python</a><a class="d-block my-2" data-toggle=scroll href=#rust><em class="fa fa-brands fa-rust"></em> Rust</a><a class="d-block my-2" data-toggle=scroll href=#cmake-integration>CMake Integration</a><a class="d-block my-2" data-toggle=scroll href=#visual-studio-integration>Visual Studio Integration</a><a class="d-block my-2" data-toggle=scroll href=#xcode-integration>XCode Integration</a></aside></div></div></div>