<!doctype html><html lang=en-us prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=description content><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=google-site-verification content="OcWjYs0PdsQZtqu1ms5QSr5FplDf_t5GEneU---wWzM"><meta name=description content="LIEF v0.12.0 is out. This blog post highlights the main changes and the upcomming features"><meta name=keywords content><meta property="og:type" content="article"><meta property="og:description" content="LIEF v0.12.0 is out. This blog post highlights the main changes and the upcomming features"><meta property="og:title" content="LIEF v0.12.0"><meta property="og:site_name" content="LIEF"><meta property="og:image" content="https://lief.re/blog/2022-03-27-lief-v0-12-0/featured.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content><meta property="og:image:height" content><meta property="og:url" content="https://lief.re/blog/2022-03-27-lief-v0-12-0/"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2022-03-27
"><meta property="article:modified_time" content="2022-03-27
"><meta name=twitter:card content="summary"><meta name=twitter:site content="@lief_project"><meta name=twitter:creator content="@lief_project"><meta name=twitter:title content="LIEF v0.12.0 | LIEF"><meta name=twitter:description content="LIEF v0.12.0 is out. This blog post highlights the main changes and the upcomming features | LIEF"><meta property="twitter:image:src" content="https://lief.re/blog/2022-03-27-lief-v0-12-0/featured.png"><meta name=twitter:domain content="https://lief.re/blog/2022-03-27-lief-v0-12-0/"><title>LIEF</title><link rel=canonical href=https://lief.re/blog/2022-03-27-lief-v0-12-0/><link rel=stylesheet type=text/css href=https://lief.re//css/theme.min.css><link rel=stylesheet type=text/css href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css><link rel=stylesheet type=text/css href=https://lief.re//css/vendor.min.css><link rel=stylesheet type=text/css href=https://lief.re//css/termynal.css><link rel=stylesheet type=text/css href=https://lief.re//css/animate.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel=stylesheet type=text/css><link rel=apple-touch-icon href=https://lief.re//img/favicon.ico type=image/x-icon><link rel="shortcut icon" href=https://lief.re//img/favicon.ico type=image/x-icon><link rel=icon href=https://lief.re//img/favicon.ico type=image/x-icon><style></style></head><body class=bg-light><nav class="navbar navbar-expand-lg navbar-light bg-light position-absolute w-100 bg-white" role=navigation><div class="container position-relative"><a href=https://lief.re/ class=navbar-brand>LIEF</a>
<button class=navbar-toggler data-toggle=collapse data-target=#navbar-collapse>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end mt-2 mt-lg-0" id=navbar-collapse><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://lief.re/><i class="fa-solid fa-house mr-3"></i>
Home</a></li><li class=nav-item><a class=nav-link href=https://lief.re/blog><i class="fa-solid fa-rss mr-3"></i>
Blog</a></li><li class=nav-item><a class=nav-link href=https://lief.re/download><i class="fa-solid fa-download mr-3"></i>
Download</a></li><li class="nav-item dropdown"><a href=https://lief.re/doc/latest class="nav-link dropdown-toggle" data-toggle=dropdown><i class="fa-solid fa-book mr-3"></i>
Documentation</a><div class="dropdown-menu px-4" role=menu><a class="dropdown-item d-flex align-items-center border-bottom border-gray-100 p-2" href=https://lief.re/doc/latest/><span class="svg-icon text-purple mr-3"><svg width="512" height="512" viewBox="0 0 512 512"><title>ionicons-v5-m</title><path d="M160 389a20.91 20.91.0 01-13.82-5.2l-128-112a21 21 0 010-31.6l128-112a21 21 0 0127.66 31.61L63.89 256l109.94 96.19A21 21 0 01160 389z"/><path d="M352 389a21 21 0 01-13.84-36.81L448.11 256 338.17 159.81a21 21 0 0127.66-31.61l128 112a21 21 0 010 31.6l-128 112A20.89 20.89.0 01352 389z"/></svg>
</span><span><p class=mb-0>API
<span class="badge badge-pastel-success font-weight-bold pt-2 ml-1">Latest</span></p><span class=text-secondary>Sphinx & Doxygen API documentation</span>
</span></a><a class="dropdown-item d-flex align-items-center border-bottom border-gray-100 p-2" href=https://lief.re/doc/stable/><span class="svg-icon text-purple mr-3"><svg width="512" height="512" viewBox="0 0 512 512"><title>ionicons-v5-m</title><path d="M160 389a20.91 20.91.0 01-13.82-5.2l-128-112a21 21 0 010-31.6l128-112a21 21 0 0127.66 31.61L63.89 256l109.94 96.19A21 21 0 01160 389z"/><path d="M352 389a21 21 0 01-13.84-36.81L448.11 256 338.17 159.81a21 21 0 0127.66-31.61l128 112a21 21 0 010 31.6l-128 112A20.89 20.89.0 01352 389z"/></svg>
</span><span><p class=mb-0>API
<span class="badge badge-pastel-primary font-weight-bold pt-2 ml-1">Stable</span></p><span class=text-secondary>Sphinx & Doxygen API documentation</span>
</span></a><a class="dropdown-item d-flex align-items-center border-bottom border-gray-100 p-2" href=https://lief.re/doc/latest/changelog.html><span class="svg-icon text-purple mr-3"><svg width="512" height="512" viewBox="0 0 512 512"><title>ionicons-v5-j</title><path d="M256 256s-48-96-126-96c-54.12.0-98 43-98 96s43.88 96 98 96c30 0 56.45-13.18 78-32" style="fill:none;stroke:#000;stroke-linecap:round;stroke-miterlimit:10;stroke-width:48px"/><path d="M256 256s48 96 126 96c54.12.0 98-43 98-96s-43.88-96-98-96c-29.37.0-56.66 13.75-78 32" style="fill:none;stroke:#000;stroke-linecap:round;stroke-miterlimit:10;stroke-width:48px"/></svg>
</span><span><p class=mb-0>Changelog</p><span class=text-secondary>See all updates</span></span></a></div></li><li class=nav-item><a class=nav-link href=https://lief.re/about><i class="fa-solid fa-bars-staggered mr-3"></i>
About</a></li><li class="nav-item ml-lg-3 mt-3 mt-lg-0"><a class="hover-lift-light mt-1" href=https://github.com/lief-project/LIEF target=_blank><i class="fab fa-2x fa-github text-darkblue"></i></a></li><li class="nav-item ml-lg-3 mt-3 mt-lg-0"><a class="hover-lift-light mt-1" href=https://discord.gg/jGQtyAYChJ target=_blank><i class="fab fa-2x fa-discord text-darkblue mr-3"></i></a></li><li class="nav-item ml-lg-3 mt-3 mt-lg-0"><a href=https://github.com/sponsors/lief-project/ class="btn btn-outline-pink" target=_blank><i class="fa-solid fa-heart mr-3"></i> Sponsor</a></li></ul></div></div></nav><div class="h-200 h-md-250 bg-light"></div><section class="bg-light pb-8"><div class="container fx-fade-up"><div class="row justify-content-center"><div class="col-lg-12 bg-white shadow-light-lg rounded py-5 px-4 px-md-7 mt-n6"><div class="avatar d-block mx-auto mt-n6 relative-top--7"><a href=https://www.romainthomas.fr target=_blank><img src=https://lief.re/img/avatar/romain.png class="rounded-circle avatar-image shadow" alt=Avatar></a></div><h2 class="text-center font-weight-normal mt-4">LIEF v0.12.0</h2><div class="text-center text-muted font-size-sm mt-3"><span class=mr-3><span class="svg-icon svg-icon-sm text-muted relative-top--1 mr-1"><svg width="512" height="512" viewBox="0 0 512 512"><title>ionicons-v5-k</title><polygon points="364.13 125.25 87 403 64 448 108.99 425 386.75 147.87 364.13 125.25" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><path d="M420.69 68.69 398.07 91.31l22.62 22.63 22.62-22.63a16 16 0 000-22.62h0a16 16 0 00-22.62.0z" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/></svg>
</span><a href=https://www.romainthomas.fr target=_blank>Romain Thomas </a></span><span class=ml-3><i class="far fa-calendar fa-xs mr-1 relative-top--1"></i>
March 27, 2022</span></div><img src=https://lief.re//img/waves.png class="d-block mx-auto mt-4 mb-5" alt=Wave><div class=text-dark><p>We are thrilled to announce that LIEF v0.12.0 is released!
You can find the complete changelog <a href=https://lief-project.github.io/doc/stable/changelog.html#march-25-2022>here</a>.</p><h2 id=lief-v0120-whats-new>LIEF v0.12.0: What&rsquo;s New?</h2><p>LIEF v0.12.0 is a balanced mix of new features, internal refactoring, and performance improvement.</p><h3 id=new-features>New Features</h3><p>Regarding the new features, we added support for recomputing the PE&rsquo;s rich header and the PE&rsquo;s checksum.
The PE&rsquo;s rich header is a well-known-hidden<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> feature that can be helpful to fingerprint a PE binary.</p><p>LIEF enables &ndash; since the version <code>v0.7.0</code> &ndash; to access this part of the PE file with the following API:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#cf222e>import</span> <span style=color:#24292e>lief</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>pe_file <span style=color:#0550ae>=</span> lief<span style=color:#0550ae>.</span>parse<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;hello.exe&#34;</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>rich_header <span style=color:#0550ae>=</span> pe_file<span style=color:#0550ae>.</span>rich_header
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span><span style=color:#6639ba>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>f</span><span style=color:#0a3069>&#34;XOR Key: </span><span style=color:#0a3069>{</span>rich_header<span style=color:#0550ae>.</span>key<span style=color:#0a3069>}</span><span style=color:#0a3069>&#34;</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span><span style=color:#cf222e>for</span> e <span style=color:#0550ae>in</span> rich_header<span style=color:#0550ae>.</span>entries<span style=color:#1f2328>:</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>  <span style=color:#6639ba>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>f</span><span style=color:#0a3069>&#34;</span><span style=color:#0a3069>{</span>e<span style=color:#0550ae>.</span>id<span style=color:#0a3069>}</span><span style=color:#0a3069>: </span><span style=color:#0a3069>{</span>e<span style=color:#0550ae>.</span>build_id<span style=color:#0a3069>}</span><span style=color:#0a3069> </span><span style=color:#0a3069>{</span>e<span style=color:#0550ae>.</span>count<span style=color:#0a3069>}</span><span style=color:#0a3069>&#34;</span><span style=color:#1f2328>)</span>
</span></span></code></pre></div><p>In LIEF <code>v0.12.0</code>, we added two functions:</p><ol><li><code>LIEF::PE::RichHeader::raw</code>: To generate the rich header blob with or without a xor key.</li><li><code>LIEF::PE::RichHeader::hash</code>: To generate the MD5/SHA-1/SHA-256/(&mldr;) of the rich header blob.</li></ol><p>For those who are looking for PE&rsquo;s markers or tracking PE binaries, these two functions could be used to
generate a characteristic of the binary, regardless of the xor-key:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#57606a># [...]</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>rich_header <span style=color:#0550ae>=</span> pe_file<span style=color:#0550ae>.</span>rich_header
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>marker <span style=color:#0550ae>=</span> <span style=color:#6639ba>bytes</span><span style=color:#1f2328>(</span>rich_header<span style=color:#0550ae>.</span>hash<span style=color:#1f2328>(</span>lief<span style=color:#0550ae>.</span>PE<span style=color:#0550ae>.</span>ALGORITHMS<span style=color:#0550ae>.</span>SHA_1<span style=color:#1f2328>))</span><span style=color:#0550ae>.</span>hex<span style=color:#1f2328>()</span>
</span></span></code></pre></div><p>Still about the PE format, we added <code>LIEF::PE::OptionalHeader::computed_checksum()</code> which returns
the re-computed value of the PE&rsquo;s checksum (<code>LIEF::PE::OptionalHeader::checksum()</code>).</p><p>For regular binaries, the verification of the OptionalHeader&rsquo;s checksum is not enforced by Windows
and the integrity checks are usually deferred to the PE&rsquo;s Authenticode.
Nonetheless, verifying the <code>checksum()</code> value with the output of <code>computed_checksum()</code> could help
identify binaries that would have been modified after the compilation.</p><p>Finally, we added the support for the PE&rsquo;s delayed imports in LIEF and Luca Moro added the support of the
<code>LC_FILESET_ENTRY</code> command in the Mach-O format.</p><h3 id=refactoring--performance-improvement>Refactoring & Performance Improvement</h3><p>We also refactored and enhanced LIEF&rsquo;s internal codebase. Among those changes,
we started to get rid of the C++ exceptions as described in this blog post: <a href=/blog/2022-02-13-lief-rtti-exceptions/>LIEF RTTI & Exceptions</a></p><p>We also introduced a <code>std::span</code> like interface (based on <a href=https://github.com/tcbrindle/span>tcbrindle/span</a>)
to avoid returning and potentially copying <code>std::vector&lt;uint8_t></code>. For instance, <a href=https://github.com/lief-project/LIEF/blob/57294452a1470f2e1432112d1649068a8cd8047e/include/LIEF/Abstract/Section.hpp#L50>LIEF::Section::content</a>
now uses the span interface. Regarding the Python API, functions or properties that bind a function which
returns a span, are now returning a <code>py::memoryview</code> instead of the <em>list of bytes</em>. The original
<em>list of bytes</em> can be recovered as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#6639ba>bin</span> <span style=color:#0550ae>=</span> lief<span style=color:#0550ae>.</span>parse<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;/bin/ls&#34;</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>section <span style=color:#0550ae>=</span> <span style=color:#6639ba>bin</span><span style=color:#0550ae>.</span>get_section<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;.text&#34;</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#cf222e>if</span> section <span style=color:#0550ae>is</span> <span style=color:#0550ae>not</span> <span style=color:#cf222e>None</span><span style=color:#1f2328>:</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>  memory_view <span style=color:#0550ae>=</span> section<span style=color:#0550ae>.</span>content
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>  list_of_bytes <span style=color:#0550ae>=</span> <span style=color:#6639ba>list</span><span style=color:#1f2328>(</span>memory_view<span style=color:#1f2328>)</span>
</span></span></code></pre></div><p>About the performances, we did a global refactoring of the ELF builder as described in this blog post:
<a href=https://lief-project.github.io/blog/2022-01-23-new-elf-builder>New ELF Builder</a>. We also reduced the memory footprint of the ELF parser.
For instance, in LIEF v0.11.5 a binary of 1.5G takes 3G or RAM<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> while in LIEF v0.12.0,
it takes quite the same memory as the file size.</p><p><img src=memory_profile.png alt="Memory profiling"></p><p><a href=https://github.com/ekilmer>Eric Kilmer</a> also did a nice and complete cleaning of the <a href=https://github.com/lief-project/LIEF/pull/674>LIEF CMake integration</a></p><p>In February 2022, <a href=https://tmpout.sh/2/>tmp.0ut v2</a> has been released and <a href=https://twitter.com/netspooky>@netspooky</a>
presented interesting tricks on the ELF format <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> <sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>. We fixed the ELF parser
to make sure we handle these tricks.</p><h2 id=whats-next>What&rsquo;s Next?</h2><p>We started to implement Rust bindings for LIEF thanks to <a href=https://cxx.rs/>cxx</a> and <a href=https://github.com/google/autocxx>google/autocxx</a>.
These bindings are in their early stages and we can&rsquo;t confirm they will be present in the next release.
In the current development stage, the API looks like this:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#cf222e>let</span><span style=color:#fff> </span><span style=color:#cf222e>mut</span><span style=color:#fff> </span>path: <span style=color:#6639ba>String</span> <span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;/bin/ls&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span><span style=color:#fff></span><span style=color:#cf222e>match</span><span style=color:#fff> </span>Binary::parse<span style=color:#1f2328>(</span><span style=color:#0550ae>&amp;</span>path<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span><span style=color:#fff>    </span>Binary::<span style=color:#0550ae>ELF</span><span style=color:#1f2328>(</span>elf<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span><span style=color:#fff>        </span><span style=color:#6639ba>println!</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;ELF binary&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span>segment<span style=color:#fff> </span><span style=color:#cf222e>in</span><span style=color:#fff> </span>elf<span style=color:#1f2328>.</span>segments<span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span><span style=color:#fff>            </span><span style=color:#6639ba>println!</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Address: </span><span style=color:#0a3069>{:x}</span><span style=color:#0a3069>&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>segment<span style=color:#1f2328>.</span>virtual_address<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span><span style=color:#fff>    </span><span style=color:#1f2328>},</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#fff>    </span>Binary::<span style=color:#0550ae>PE</span><span style=color:#1f2328>(</span>pe<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span><span style=color:#fff>        </span><span style=color:#6639ba>println!</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;PE binary&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span><span style=color:#fff>        </span><span style=color:#cf222e>let</span><span style=color:#fff> </span>text_section<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>pe<span style=color:#1f2328>.</span>get_section<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;.text&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span><span style=color:#fff>        </span>text_section<span style=color:#1f2328>.</span>name<span style=color:#fff>        </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;.foo&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span><span style=color:#fff>        </span>text_section<span style=color:#1f2328>.</span>file_offset<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0550ae>0x123</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span><span style=color:#fff>        </span>text_section<span style=color:#1f2328>.</span>commit<span style=color:#1f2328>();</span><span style=color:#fff> </span><span style=color:#57606a>// Commit the changes
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span><span style=color:#57606a></span><span style=color:#fff>    </span><span style=color:#1f2328>},</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span><span style=color:#fff>    </span>Binary::MachO<span style=color:#1f2328>(</span>macho<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span><span style=color:#fff>        </span><span style=color:#6639ba>println!</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;MachO binary&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span>command<span style=color:#fff> </span><span style=color:#cf222e>in</span><span style=color:#fff> </span>macho<span style=color:#1f2328>.</span>commands<span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span><span style=color:#fff>          </span><span style=color:#cf222e>match</span><span style=color:#fff> </span>command<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span><span style=color:#fff>            </span>Commands::Dylib<span style=color:#1f2328>(</span>dylib<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span><span style=color:#fff>              </span><span style=color:#0550ae>..</span><span style=color:#1f2328>.</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span><span style=color:#fff>            </span><span style=color:#1f2328>},</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span><span style=color:#fff>            </span>Commands::Main<span style=color:#1f2328>(</span>main_cmd<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span><span style=color:#fff>              </span><span style=color:#0550ae>..</span><span style=color:#1f2328>.</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span><span><span style=color:#fff>            </span><span style=color:#1f2328>},</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28</span><span><span style=color:#fff>          </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29</span><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30</span><span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31</span><span><span style=color:#fff>    </span><span style=color:#1f2328>},</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32</span><span><span style=color:#fff>    </span>Binary::Unknown<span style=color:#1f2328>(</span>x<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33</span><span><span style=color:#fff>        </span><span style=color:#6639ba>println!</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Unknown&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34</span><span><span style=color:#fff>    </span><span style=color:#1f2328>},</span><span style=color:#fff>
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35</span><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>We will also merge the (still private) branch that enables to parse Mach-O from memory as well as
the global improvement of the Mach-O&rsquo;s builder.</p><p>Regarding LIEF&rsquo;s experimentations and work in progress, here is a list of topics on which we are working
or we would like to work:</p><table><thead><tr><th>Topic</th><th style=text-align:left>Status</th></tr></thead><tbody><tr><td>Parsing ELF files from memory</td><td style=text-align:left>Not started yet</td></tr><tr><td>Parsing DART/Flutter snapshots</td><td style=text-align:left>PoC</td></tr><tr><td>Creating an ELF from scratch</td><td style=text-align:left>PoC</td></tr><tr><td>Parsing PE&rsquo;s private authenticode: MS Counter Signature</td><td style=text-align:left>Not started yet</td></tr><tr><td>Refactoring the PE&rsquo;s builder</td><td style=text-align:left>Not started yet, priority undefined</td></tr><tr><td>Supporting the Mach-O&rsquo;s commands: LC_DYLD_CHAINED_FIXUPS / LC_DYLD_EXPORTS_TRIE</td><td style=text-align:left>Done, under testing</td></tr><tr><td>Supporting the archive format (AR)</td><td style=text-align:left>Early stage</td></tr></tbody></table><p>If you are interested in supporting some of these topics, feel free to reach out.</p><p>Enjoy!</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.virusbulletin.com/virusbulletin/2020/01/vb2019-paper-rich-headers-leveraging-mysterious-artifact-pe-format/>https://www.virusbulletin.com/virusbulletin/2020/01/vb2019-paper-rich-headers-leveraging-mysterious-artifact-pe-format/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>More generally, we have a factor 2 in memory compared to the file size. Oups &mldr;&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://tmpout.sh/2/3.html>https://tmpout.sh/2/3.html</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://tmpout.sh/2/14.html>https://tmpout.sh/2/14.html</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><div class="d-flex flex-column flex-sm-row align-items-center border-top border-gray-200 mt-6 py-5"><div class=media><div class="avatar mr-4"><img src=https://lief.re/img/avatar/romain.png class="avatar-image rounded-circle" alt=Avatar></div><div class=media-body><span class="text-darkblue text-uppercase-xs font-weight-bolder"><a href=https://www.romainthomas.fr target=_blank>Romain Thomas
</a></span><span class="text-muted font-size-sm d-block">Posted on March 27, 2022</span></div></div></div></div></div></div></section><footer class="footer footer-dark bg-dark"><div class="container text-center"><div class=row><div class="col-12 col-md"><h6 class="footer-header mb-4 pb-md-2">LIEF</h6><a href=https://github.com/lief-project/LIEF class=footer-link>Github
</a><a href=https://lief.re//download class="footer-link mt-2">Download
</a><a href=https://lief.re//doc/latest class="footer-link mt-2">Documentation</a></div><div class="col-12 col-md mt-5 mt-md-0"><h6 class="footer-header mb-4 pb-md-2">Quarkslab</h6><a href=https://blog.quarkslab.com/ class=footer-link>Blog
</a><a href=https://quarkslab.com/ class="footer-link mt-2">Website</a></div><div class="col-12 col-md mt-5 mt-md-0"><h6 class="footer-header mb-4 pb-md-2">Other Tools</h6><a href=https://qbdi.quarkslab.com/ class=footer-link>QBDI
</a><a href=https://triton.quarkslab.com/ class="footer-link mt-2">Triton</a></div></div><div class="d-flex justify-content-center mt-6"><a href=https://infosec.exchange/@rh0main class="hover-lift-light text-decoration-none mx-2"><span class="icon-circle footer-social-icon"><i class="fab fa-mastodon fa-lg"></i>
</span></a><a href=https://x.com/lief_project class="hover-lift-light text-decoration-none mx-2"><span class="icon-circle footer-social-icon"><i class="fab fa-x-twitter fa-lg"></i>
</span></a><a href=https://crates.io/crates/lief class="hover-lift-light text-decoration-none mx-2"><span class="icon-circle footer-social-icon"><i class="fab fa-rust fa-lg"></i>
</span></a><a href=https://pypi.org/project/lief/ class="hover-lift-light text-decoration-none mx-2"><span class="icon-circle footer-social-icon"><i class="fab fa-python fa-lg"></i>
</span></a><a href=https://github.com/lief-project/LIEF class="hover-lift-light text-decoration-none mx-2"><span class="icon-circle footer-social-icon"><i class="fab fa-github fa-lg"></i>
</span></a><a href=https://discord.gg/jGQtyAYChJ class="hover-lift-light text-decoration-none mx-2"><span class="icon-circle footer-social-icon"><i class="fab fa-discord fa-lg"></i></span></a></div></div></footer><script src=https://lief.re//js/vendor.min.js></script><script src=https://lief.re//js/theme.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js></script><script>$("#copy").tooltip({trigger:"click",placement:"bottom"});function setTooltip(e){$("#copy").tooltip("hide").attr("data-original-title",e).tooltip("show")}function hideTooltip(){setTimeout(function(){$("#copy").tooltip("hide")},1e3)}var clipboard=new ClipboardJS("#copy");clipboard.on("success",function(){setTooltip("Copied!"),hideTooltip()}),clipboard.on("error",function(){setTooltip("Failed!"),hideTooltip()})</script></body></html>